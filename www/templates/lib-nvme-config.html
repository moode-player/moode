<!--
/*
 * SPDX-License-Identifier: GPL-3.0-or-later
 * Copyright 2014 The moOde audio player project / Tim Curtis
*/
-->
<div id="container">
<div class="container">
	<h1 class="lib-config">Local NVMe drives</h1>
	<p>
		Select an EXT4 formatted NVMe drive from the list to mount.
		After saving or removing a drive, return to Playback or Library and select "Update library" from the Menu.
	</p>

	<form class="form-horizontal" action="lib-config.php" method="post">
		<legend>NVMe source
			<button class="legend-config btn btn-medium btn-primary btn-submit" type="submit" name="save_nvme_source" value="1">Save</button>
			<a href="#remove-nvme-mount" data-toggle="modal" class="$_hide_remove_nvme_source"><button class="legend-config btn btn-medium btn-primary">Remove</button></a>
		</legend>

		<a data-toggle="modal" href="#moode-log" $_hide_nvme_mount_error>
			<button class="btn btn-medium btn-primary config-btn">
				$_nvme_mount_error_msg
			</button>
		</a>

		<div class="control-group">
			<label class="control-label" for="nvme-drive">Drives</label>
			<div class="controls">
				<select id="nvme-drive" name="mount[drive]" class="config-select-large">
					$_nvme_drives
				</select>
				<a aria-label="Help" class="config-info-toggle" data-cmd="info-nvme-drives" href="#notarget"><i class="fa-regular fa-sharp fa-info-circle"></i></a>
				<span class="config-help-static">
					List of NVMe drives and in parenthesis the volume label or "Unformatted", "No label" or "Not ext4".
                </span>
				<span id="info-nvme-drives" class="config-help-info">
					Boot NVMe drives will be listed as below. The partition "/dev/nvme0n1p2 (roofs)" contains your music files.<br>
					- /dev/nvme0n1 (Not ext4)<br>
					- /dev/nvme0n1p1 (Not ext4)<br>
					- <b>/dev/nvme0n1p2 (roofs)</b><br>
				</span>
			</div>

			<label class="control-label" for="nvme-name">Name</label>
			<div class="controls">
				<input class="config-input-large" type="text" pattern="[A-Za-z0-9\-]{1,25}" id="nvme-name" name="mount[name]" value="$_name">
				<input type="hidden" name="mount[id]" value="$_id">
				<input type="hidden" name="mount[action]" value="$_action">
				<a aria-label="Help" class="config-info-toggle" data-cmd="info-nvme-name" href="#notarget"><i class="fa-regular fa-sharp fa-info-circle"></i></a>
				<span id="info-nvme-name" class="config-help-info">
					Friendly name (alias) for this NVMe drive. The name will appear in Library Folder view under the NVME folder.
					Format is 1-25 characters, alphanumeric, hyphen allowed.
                </span>
			</div>
		</div>
	</form>
</div>
</div>

<form class="form-horizontal" method="post">
	<div id="remove-nvme-mount" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="remove-nvme-mount-label" aria-hidden="true">
		<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			<h3>Remove NVMe mount: $_name?</h3>
		</div>
		<div class="modal-body"></div>
		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="remove_nvme_source" value="1">Yes</button>
		</div>
	</div>
</form>

<div id="moode-log" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="moode-log-label" aria-hidden="true">
	<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h3>Moode Log</h3>
	</div>
	<div class="modal-body">
		<pre>
			$_moode_log
		</pre>
	</div>
	<div class="modal-footer">
		<button class="btn singleton" data-dismiss="modal" aria-hidden="true">Close</button>
	</div>
</div>
