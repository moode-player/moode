<!--
/*
 * SPDX-License-Identifier: GPL-3.0-or-later
 * Copyright 2014 The moOde audio player project / Tim Curtis
*/
-->

<h5>General</h5>
<p>There are four main sections to moOde: Configuration, Preferences, Playback and Library.</p>
<p>Switching between Playback and the Library is accomplished by clicking on the cover art in Playback or on any open area of the Playbar in the Library.</p>

<h5>Configuration</h5>
<p>The Configuration screens are accessed via the Main Menu and provide options for setting up the Music Library, configuring audio devices, defining network connections, enabling system services, connecting to peripheral devices, and activating 3rd party audio renderers. Typically these options are configured initially and then infrequently changed.</p>

<h5>Preferences</h5>
<p>The Preferences screen is accessed via the Main Menu and provide settings for WebUI Appearance, Playback, Cover Art, Library and CoverView.</p>

<h5>Playback</h5>
<p>The Playback screen includes the play queue (Queue), volume and time knobs, playback controls, cover art and metadata.

<h5>Library</h5>
<p>The Library provides Radio, Folder, Tag, Album and Playlist views for browsing and selecting content and a Playbar for displaying song information and controlling playback. Options for configuring various aspects of the Library including sort order, recently added and more are located in the Library section of Preferences.</p>
<p>For details on Library generation and metadata tags view the <a href="https://github.com/moode-player/docs/blob/main/music_database.md" class="target-blank-link" target="_blank">Music Database</a> and <a href="https://github.com/moode-player/docs/blob/main/music_metadata.md" class="target-blank-link" target="_blank">Music Metadata</a> documents.</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> Cover art</span>
			<p>The Cover Art section of Preferences contains settings for specifying cover art resolution, whether to search first for embedded image or cover image file and which audio formats are included.</p>
			<p>Note that some Albums for example "Nine Inch Nails - The Slip" have a main cover image file and also embedded covers in each track. To display the covers correctly first add the cover image file named so its the last file in the album directory, then set Prefs > "Cover search priority" to "Embedded" and Prefs > "Audio formats" to "Default+"</p>
		</li>
		<li><span> Artist and Album Artist tags</span>
			<p>When the Library is generated it creates a virtual Artist tag that includes Artists, Performers and Conductor, and a virtual Album Artist tag that is set to Album Artist if it exists otherwise to the first element of the virtual Artist tag. The Library section of Preferences contains settings for specifying how to populate the Artist column in Tag view.</p>
		</li>
		<li><span> Date tags</span>
			<p>The date tag that is used is determined by the following priority: OriginalDate, OriginalReleaseDate, Date. The format for the value must be YYYY or YYYYMMDD otherwise any Library sort involving year will not be correct. The year YYYY portion of the date is used for display.</p>
		</li>
		<li><span> Special AlbumDate tag</span>
			<p>The string "AlbumDate: YYYYMM" at the beginning of the Comment tag can be used to add month to the the sort order. This is to support correct sort order for multiple Albums released by the same artist within a year.</p>
		</li>
	</ul>
</div>
<h5>Searching the Library</h5>
<p>Powerful search features are available that allow the Library to be filtered based on entered text, tag value pairs or special, predefined filters. There is also an Advanced search dialog that enables multiple tag value pairs to be submitted.</p>
<p>Tag and Album views</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> General</span>
			<p>Searches are not case sensitive and partial matches are the default unless one of the strict comparison operators '==' or '!=' is used. The comparison operators '=~' or '!~' can also be used to perform searches based on PERL regular expressions. Searches are cleared by clicking on the "Filtered by" heading.</p>
			<p>NOTE: The "search" field only supports a single tag value pair or a single Predefined filter.</p>
		</li>
		<li><span> Tag value pairs</span>
			<p>The following tags are supported: Any, Genre, Artist, Album, Title, Album Artist, Date, Composer, Conductor, Performer, Work, Comment and File.</p>
			<p>Examples: genre rock | artist frank sinatra | artist mccartney | any zeppelin</p>
		</li>
		<li><span> The Any tag</span>
			<p>The Any tag performs a search of all tags using an OR relationship. An Any search is automatically invoked when the first word of text entered in the "search" field does not match any of the tag or predefined filter names.</p>
			<p>Examples: yellow submarine | all that you can't leave behind | frank sinatra | 1962</p>
		</li>
		<li><span> Predefined filters</span>
			<p>The following predefined filters are available: Encoded [bits/rate | Nch | multichannel], Format [.ext], Folder [path], HDonly, Lossless, Lossy and Year [yyyy] or [yyyy-yyyy].</p>
			<p>Examples: encoded 24/96 | encoded 192 | encoded 24 | encoded 6ch | encoded multichannel | hdonly | format .dsf | folder u2/achtung baby | lossy | year 1962 | year 1994-1998</p>
		</li>
		<li><span> Saved searches</span>
			<p>Searches can be saved and subsequently activated using the "Saved searches" item on the Library dropdown menu.</p>
		</li>
	</ul>
</div>
<p>Folder view</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> General</span>
			<p>Searches are not case sensitive and partial matches are considered valid. Searches are cleared by clicking on the Home icon.</p>
		</li>
		<li><span> Search results tally</span>
			<p>Click the search tally to display a context menu containing Add, Play, Clear/Play.</p>
		</li>
	</ul>
</div>
<p>Radio and Playlist view</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> General</span>
			<p>Searches are not case sensitive and a progressive Typedown search method is used on the displayed items.</p>
		</li>
		<li><span> Clearing the search</span>
			<p>Click the Browse by header or the x icon in the "search" field to clear the search.</p>
		</li>
	</ul>
</div>

<h5>CoverView</h5>
<p>The CoverView screen saver provides a large sized cover art image or optional Analog or Digital clock, a Playbar for controlling playback and several backdrop options that can be selected in the CoverView section of Preferences.</p>

<h5>Queue</h5>
<p>The Queue is displayed in Playback and CoverView and contains all items to be played. It's populated primarily by selecting an item from the Library and then clicking one of the Queue commands listed on a context menu. It can also be populated automatically by Auto-shuffle. The Queue commands are listed below.</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> Add | Play</span>
			<p>The "Add" command adds the item to the end of the Queue. The "Play" command first checks to see if the item is already in the Queue and then plays the existing item otherwise it does the same as Add and then begins play.</p>
		</li>
		<li><span> Clear/Play</span>
			<p>The "Clear/Play" command first clears the Queue then adds the item and begins play.</p>
		</li>
		<li><span> Add next | Play next</span>
			<p>The "Add next" command adds the item immediately after the currently playing or last played item. The "Play next" command first checks to see if the item is already in the Queue and then plays the existing item otherwise it does the same as "Add next" then begins play.</p>
		</li>
		<li><span> Clear queue</span>
			<p>Remove all songs in the Queue. This command is available in the ellipsis context menu in Playback view and on the Playbar.</p>
		</li>
		<li><span> Crop queue</span>
			<p>Remove all songs except for the currently playing song. This command is available in the ellipsis context menu in Playback view and on the Playbar.</p>
		</li>
		<li>
			<p>For the track list in Library Tag and Album views the Play and Clear/Play actions can be configured via a Preferences option to either add the selected track to the Queue or the selected track and all following tracks.</p>
		</li
	</ul>
</div>

<h5>Playlists</h5>
<p> Creating, editing and managing playlists is done primarily in Library Playlist view. Playlists can also be created via context menu items "Save Queue to playlist", "Set Favorites name" and "Add to playlist".</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> Save Queue to playlist</span>
			<p>The "Save Queue to playlist" command displays a list of available playlists and adds the item to the end of the selected playlist or a new playlist if one is specified.</p>
		</li>
		<li><span> Set Favorites name</span>
			<p>The "Set Favorites name" command displays an input form for specifying the name of the playlist that contains items favorited by clicking the Heart <i class="fa-regular fa-sharp fa-heart"></i> button. If the playlist does not already exist it will be created.</p>
		</li>
		<li><span> Add to playlist</span>
			<p>The "Add to playlist" command displays a list of available playlists and adds the item to the end of the selected playlist or a new playlist if one is specified.</p>
		</li>
	</ul>
</div>

<h5>Multiroom audio</h5>
<p>A multiroom audio system consists of a Sender and Receivers. The Sender should be a dedicated Pi not connected to speakers or headphones. For additional information view the <a href="./setup_multiroom.txt" class="target-blank-link" target="_blank">Multiroom setup guide</a></p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> Configuration</span>
			<p>Sender and Receiver options are configured in Multiroom Config which is accessed via Menu/Configure or in the ALSA section of Audio Config. Audio sources including MPD, AirPlay and Spotify can be distributed by the Sender.</p>
		</li>
		<li><span> Master volume</span>
			<p>The volume knob on the Sender system provides master volume control by sending the volume change to the Receivers which apply it to their own volume. Receivers can be configured to opt in or out of Master volume control via Multiroom Config.</p>
		</li>
		<li><span> Receiver control</span>
			<p>Receivers can be centrally controlled from the Sender system via the Receivers panel which is accessed via the&nbsp;<i class="fa-solid fa-sharp fa-speakers"></i>&nbsp;button at the top of Playback view or the Receivers item in the ellipsis context menu in Playback view and on the Playbar.</p>
		</li>
		<li><span> Networking</span>
			<p>The performance of the system depends on having low latency, high throughput networking and hosts. Discovery of Receivers relies on Multicast DNS. Addressing for the audio distribution protocol relies on IP Multicast using a default address of 239.0.0.1.</p>
		</li>
		<li><span> Audio format</span>
			<p>The system uses 16 bit 48 kHz PCM format encoded using the Opus CODEC. Resampling if needed is handled by ALSA using the Speex converter.</p>
		</li>
	</ul>
</div>

<h5>Special Menu Items</h5>
<p>Most menu items are self explanatory but several perform unique functions.</p>
<div id="quickhelp-icon-list">
	<ul>
		<li><i class="fa-solid fa-sharp fa-grid sx"></i>
			<span> Dashboard</span>
			<p>This item is located on the Main menu. It displays a list of other moOde players discovered on the network. Submit an action to apply to selected players or click an individual player to open its WebUI. The Submit button will request a second click for confirmation. The <i class="fa-solid fa-sharp fa-play"></i> icon after the player name indicates its a Multiroom Sender. The <i class="fa-solid fa-sharp fa-speaker"></i> icon indicates its a Receiver.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-music sx"></i>
			<span> Audio info</span>
			<p>This item is located on the Main menu and ellipsis context menu in Playback view and on the Playbar. If it's opened from the Main menu it displays audio format and hardware related information about the item currently being played and is divided into three sections including Input/Output, DSP and Audio Device. If its opened from the ellipsis context menu it displays metadata information about the station or track currently being played.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-list sx"></i>
			<span> Queue info</span>
			<p>This item is located on the ellipsis context menu in Playback view and on the Playbar. It shows the number of Queue items, number of those that are Tracks, total Track time and the last Saved Playlist that was loaded or "None".</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-computer-speaker sx"></i>
			<span> Play here</span>
			<p>This item is located on the ellipsis context menu in Playback view and on the Playbar. It launches a new Browser tab/window and plays whats being output by the MPD HTTP streaming server. The server settings are located on Audio Config.</p>
		</li>
	</ul>
</div>

<h5>Special Buttons</h5>
<p>Most buttons are self explanatory but several perform unique functions.</p>
<div id="quickhelp-icon-list">
	<ul>
		<li><i class="fa-regular fa-sharp fa-square-sliders-vertical sx"></i>
			<span> CamillaDSP Quick Select</span>
			<p>Display a menu of available CamillaDSP configurations. This button appears at the top of Playback view when CamillaDSP is On.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-tv sx"></i>
			<span> CoverView</span>
			<p>Display full screen CoverView screen saver. clicking anywhere off of the Playbar dismisses CoverView.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-random sx"></i>
			<span> Random</span>
			<p>Play randomly selected tracks from the Queue (default) or if Auto-shuffle is on (see Audio Config) play randomly selected tracks or albums from the entire Music Library.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-arrow-down sx"></i>
			<span> Consume</span>
			<p>Remove the track from the Queue after it finishes playing. Consume mode is automatically enabled when Auto-shuffle is on.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-repeat sx"></i>
			<span> Repeat</span>
			<p>Repeat the Queue or if Single is enabled then repeat the track.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-redo sx"></i>
			<span> Single</span>
			<p>Used in conjunction with Repeat to repeat a single track.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-exchange-alt sx"></i>
			<span> Last track</span>
			<p>Toggle between the currently playing item and the last played item.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-dot-circle sx"></i>
			<span> Select random album</span>
			<p>Select a random Album for review when in Tag or Album view.</p>
		</li>
		<li><span class="ralbum-in-quickhelp">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
				<path d="M475.31 364.144L288 256l187.31-108.144c5.74-3.314 7.706-10.653 4.392-16.392l-4-6.928c-3.314-5.74-10.653-7.706-16.392-4.392L272 228.287V12c0-6.627-5.373-12-12-12h-8c-6.627 0-12 5.373-12 12v216.287L52.69 120.144c-5.74-3.314-13.079-1.347-16.392 4.392l-4 6.928c-3.314 5.74-1.347 13.079 4.392 16.392L224 256 36.69 364.144c-5.74 3.314-7.706 10.653-4.392 16.392l4 6.928c3.314 5.74 10.653 7.706 16.392 4.392L240 283.713V500c0 6.627 5.373 12 12 12h8c6.627 0 12-5.373 12-12V283.713l187.31 108.143c5.74 3.314 13.079 1.347 16.392-4.392l4-6.928c3.314-5.74 1.347-13.079-4.392-16.392z">
				</path>
			</svg></span>
			<span>&nbsp;Play a random album</span>
			<p>Select a random album from the Music Library and perform the action specified for the "One touch random album" setting in the Library section of Preferences.</p>
		</li>
		<li><i class="fa-regular fa-sharp fa-heart sx"></i>
			<span> Favorite</span>
			<p>Add the currently selected item in the Queue to the Favorites playlist. Playlists are listed in Library Playlist view.</p>
		</li>
	</ul>
</div>

<h5>Static Indicators and Active Elements</h5>
<p>Below are the static indicators and active elements in the WebUI that perform an action when tapped.</p>
<div id="quickhelp-bullet-list">
	<ul>
		<li><span> Clock Radio status</span>
			<p>A red dot will appear in the upper right corner of the header bar to indicate Clock Radio is on.</p>
		</li>
		<li><span> One touch action</span>
			<p>When clicking a cover in Library Radio or Album view, or clicking the "Play random album" <i class="fa-regular fa-sharp fa-asterisk sx"></i> button in Playback, perform the action specified for the "One touch action" setting. This setting is in the Library section of Preferences.</p>
		</li>
		<li><span> Renderer Active screens</span>
			<p>Clicking on the button(s) in the center of the Renderer Active screen will perform the indicated action.</p>
		</li>
		<li><span> Time knob</span>
			<p>Clicking on the time while a track is playing will toggle between counting the time up or down. Clicking or dragging the time slider moves forward or backward in the track.</p>
		</li>
		<li><span> Volume knob</span>
			<p>Clicking on the numeric volume level toggles the mute state. Clicking ahead on the volume ring advances the volume by a maximum number of steps called the Volume step limit. This limit can be set in Audio Config. Clicking the plus/minus buttons adjusts volume by 1 step.</p>
		</li>
		<li><span> Extra metadata</span>
			<p>Clicking on the extra metadata under the cover art in Playback view opens the Station or Track tab in the Audio info screen.</p>
		</li>
		<li><span> Song title</span>
			<p>In Playback clicking the track title under the cover art launches a search in a separate Browser tab. The search engine used can be selected in the Playback section of Preferences.</p>
			<p>On Smartphones it scrolls the Queue to that item.</p>
		</li>
		<li><span> Station name or "Album - Artist" text</span>
			<p>In Playback view clicking the Radio station name or the "Album - Artist" text under the cover art switches to Radio or Tag view respectively. In Radio view the list is scrolled to the station. In Tag view the lists are scrolled to the Genre, Artist and Album.</p>
		</li>
		<li><span> Swipe gestures</span>
			<p>On Smartphones swiping up scrolls the Queue into view and clicking on the Playbar returns to Playback. In Library tag view swiping sideways shows/hides the Genres column.</p>
		</li>
	</ul>
</div>
